# MachineLearning-lab-2
***Машинное обучение, ИТМО, 5 семестр.***
**Лаба 2**

1. Доля нужных транзакций
   + Для столбца tr_type датафрейма transactions выберите произвольные 1000 строк с помощью метода sample.
   + В полученной на предыдущем этапе подвыборке найдите долю транзакций (стобец tr_description в датасете tr_types), в которой содержится подстрока 'POS' или 'ATM'

2. Встречаемость
   + Для столбца tr_type датафрейма transactions посчитайте частоту встречаемости всех типов транзакций tr_type в transactions.
   + Выведите топ-10 транзакций по частоте встречаемости (вывести для них tr_description тоже).

3. Максимальные значения
   + В датафрейме transactions найдите клиента с максимальной суммой приходов на карту
   + В датафрейме transactions найдите клиента с максимальной суммой расходов по карте
   + Найдите модуль разницы для этих клиентов между суммой расходов и суммой приходов

4. Среднее арифметическое и медиана
   + Найдите среднее арифметическое и медиану по amount по всем типам транзакций из топ 10 из задания 2
   + Найдите среднее арифметическое и медиану по amount по всем типам транзакций для клиентов из задания 3

5. Разница между средними тратами или поступлениямм женщин и мужчин
   + Определите модуль разницы между средними тратами женщин и мужчин (трата - отрицательное значение amount).
   + Определите модуль разницы между средними поступлениями у мужчин и женщин

6. Максимальная сумму прихода для типов транзакций у мужчин и женщин, пересекаемость значений
   + По всем типам транзакций рассчитайте максимальную сумму прихода на карту (из строго положительных сумм по столбцу amount) отдельно для мужчин и женщин 
(назовите ее "max_income"). Оставьте по 10 типов транзакций для мужчин и для женщин, наименьших среди всех типов транзакций по полученным значениям "max_income".
   + Выделите среди них те типы транзакций, которые встречаются одновременно и у мужчин, и у женщин

7. mcc codes
   + Найдите суммы затрат по каждой категории (mcc) для мужчин и для женщин.
   + Найдите топ 10 категорий с самыми большими относительными модулями разности в тратах для разных полов (в ответе должны присутствовать описания mcc кодов).

8. Ночные транзакции
   + Из поля tr_datetime выделите час tr_hour, в который произошла транзакция, как первые 2 цифры до ":". (**)
   + Посчитайте количество транзакций с amount<0 в ночное время для мужчин и женщин. Ночное время - это примерно 00-06 часов.
